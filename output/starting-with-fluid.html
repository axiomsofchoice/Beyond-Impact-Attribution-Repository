<html>
  <head>
    <style type="text/css">
      .hll { background-color: #ffffcc }
      .c { color: #888888 } /* Comment */
      .err { color: #a61717; background-color: #e3d2d2 } /* Error */
      .k { color: #008800; font-weight: bold } /* Keyword */
      .cm { color: #888888 } /* Comment.Multiline */
      .cp { color: #cc0000; font-weight: bold } /* Comment.Preproc */
      .c1 { color: #888888 } /* Comment.Single */
      .cs { color: #cc0000; font-weight: bold; background-color: #fff0f0 } /* Comment.Special */
      .gd { color: #000000; background-color: #ffdddd } /* Generic.Deleted */
      .ge { font-style: italic } /* Generic.Emph */
      .gr { color: #aa0000 } /* Generic.Error */
      .gh { color: #303030 } /* Generic.Heading */
      .gi { color: #000000; background-color: #ddffdd } /* Generic.Inserted */
      .go { color: #888888 } /* Generic.Output */
      .gp { color: #555555 } /* Generic.Prompt */
      .gs { font-weight: bold } /* Generic.Strong */
      .gu { color: #606060 } /* Generic.Subheading */
      .gt { color: #aa0000 } /* Generic.Traceback */
      .kc { color: #008800; font-weight: bold } /* Keyword.Constant */
      .kd { color: #008800; font-weight: bold } /* Keyword.Declaration */
      .kn { color: #008800; font-weight: bold } /* Keyword.Namespace */
      .kp { color: #008800 } /* Keyword.Pseudo */
      .kr { color: #008800; font-weight: bold } /* Keyword.Reserved */
      .kt { color: #888888; font-weight: bold } /* Keyword.Type */
      .m { color: #0000DD; font-weight: bold } /* Literal.Number */
      .s { color: #dd2200; background-color: #fff0f0 } /* Literal.String */
      .na { color: #336699 } /* Name.Attribute */
      .nb { color: #003388 } /* Name.Builtin */
      .nc { color: #bb0066; font-weight: bold } /* Name.Class */
      .no { color: #003366; font-weight: bold } /* Name.Constant */
      .nd { color: #555555 } /* Name.Decorator */
      .ne { color: #bb0066; font-weight: bold } /* Name.Exception */
      .nf { color: #0066bb; font-weight: bold } /* Name.Function */
      .nl { color: #336699; font-style: italic } /* Name.Label */
      .nn { color: #bb0066; font-weight: bold } /* Name.Namespace */
      .py { color: #336699; font-weight: bold } /* Name.Property */
      .nt { color: #bb0066; font-weight: bold } /* Name.Tag */
      .nv { color: #336699 } /* Name.Variable */
      .ow { color: #008800 } /* Operator.Word */
      .w { color: #bbbbbb } /* Text.Whitespace */
      .mf { color: #0000DD; font-weight: bold } /* Literal.Number.Float */
      .mh { color: #0000DD; font-weight: bold } /* Literal.Number.Hex */
      .mi { color: #0000DD; font-weight: bold } /* Literal.Number.Integer */
      .mo { color: #0000DD; font-weight: bold } /* Literal.Number.Oct */
      .sb { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Backtick */
      .sc { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Char */
      .sd { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Doc */
      .s2 { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Double */
      .se { color: #0044dd; background-color: #fff0f0 } /* Literal.String.Escape */
      .sh { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Heredoc */
      .si { color: #3333bb; background-color: #fff0f0 } /* Literal.String.Interpol */
      .sx { color: #22bb22; background-color: #f0fff0 } /* Literal.String.Other */
      .sr { color: #008800; background-color: #fff0ff } /* Literal.String.Regex */
      .s1 { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Single */
      .ss { color: #aa6600; background-color: #fff0f0 } /* Literal.String.Symbol */
      .bp { color: #003388 } /* Name.Builtin.Pseudo */
      .vc { color: #336699 } /* Name.Variable.Class */
      .vg { color: #dd7700 } /* Name.Variable.Global */
      .vi { color: #3333bb } /* Name.Variable.Instance */
      .il { color: #0000DD; font-weight: bold } /* Literal.Number.Integer.Long */
    </style>
  </head>
  <body>

<p>This is a script to run our demo in fluid.</p>
<div class="highlight"><pre><a name="l-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">fluidinfo</span>
<a name="l-2"></a><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">json</span>
<a name="l-3"></a><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<a name="l-4"></a><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pprint</span>
<a name="l-5"></a><span class="gp">&gt;&gt;&gt; </span>
<a name="l-6"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span> <span class="o">=</span> <span class="n">pprint</span><span class="o">.</span><span class="n">PrettyPrinter</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<a name="l-7"></a><span class="gp">&gt;&gt;&gt; </span>
</pre></div>

<p>We log in with a username/password from the env:</p>
<div class="highlight"><pre><a name="l-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">USERNAME</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&quot;FLUID_USERNAME&quot;</span><span class="p">]</span>
<a name="l-2"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">PASSWORD</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&quot;FLUID_PASSWORD&quot;</span><span class="p">]</span>
<a name="l-3"></a><span class="gp">&gt;&gt;&gt; </span>
<a name="l-4"></a><span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="ow">not</span> <span class="n">USERNAME</span><span class="p">:</span>
<a name="l-5"></a><span class="gp">... </span>    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s">&quot;Please supply a fluid account username&quot;</span><span class="p">)</span>
<a name="l-6"></a><span class="gp">... </span>
<a name="l-7"></a><span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="ow">not</span> <span class="n">PASSWORD</span><span class="p">:</span>
<a name="l-8"></a><span class="gp">... </span>    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s">&quot;Please supply a fluid account password&quot;</span><span class="p">)</span>
<a name="l-9"></a><span class="gp">... </span>
<a name="l-10"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">fluidinfo</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">USERNAME</span><span class="p">,</span> <span class="n">PASSWORD</span><span class="p">)</span>
<a name="l-11"></a><span class="gp">&gt;&gt;&gt; </span>
<a name="l-12"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">headers</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="n">fluidinfo</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s">&#39;GET&#39;</span><span class="p">,</span> <span class="s">&quot;/users/</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">USERNAME</span><span class="p">)</span>
<a name="l-13"></a><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">response</span>
<a name="l-14"></a><span class="go">{&#39;name&#39;: &#39;Ana Nelson&#39;, &#39;id&#39;: &#39;19de8e88-a494-45dc-bc50-bd51bf435263&#39;}</span>
<a name="l-15"></a><span class="gp">&gt;&gt;&gt; </span>
</pre></div>

<p>Now we will consider how to create bibliographic entries.</p>
<p>In Fluid, you can create objects via a unique name, or you can create an unnamed objects. In either case, Fluid will return the identifier for the item. If you create an object by name and this name already exists, the existing identifier is returned.</p>
<p>Here is a named object:
<div class="highlight"><pre><a name="l-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">headers</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="n">fluidinfo</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s">&#39;POST&#39;</span><span class="p">,</span> <span class="s">&quot;/about/mybook&quot;</span><span class="p">)</span>
<a name="l-2"></a><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="s">&quot;headers from creating named object:&quot;</span>
<a name="l-3"></a><span class="go">headers from creating named object:</span>
<a name="l-4"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">headers</span><span class="p">)</span>
<a name="l-5"></a><span class="go">{   &#39;cache-control&#39;: &#39;no-cache&#39;,</span>
<a name="l-6"></a><span class="go">    &#39;connection&#39;: &#39;keep-alive&#39;,</span>
<a name="l-7"></a><span class="go">    &#39;content-length&#39;: &#39;131&#39;,</span>
<a name="l-8"></a><span class="go">    &#39;content-type&#39;: &#39;application/json&#39;,</span>
<a name="l-9"></a><span class="go">    &#39;date&#39;: &#39;Wed, 11 May 2011 13:05:46 GMT&#39;,</span>
<a name="l-10"></a><span class="go">    &#39;location&#39;: &#39;https://fluiddb.fluidinfo.com/objects/9f02db51-4300-4868-91f7-100f746de682&#39;,</span>
<a name="l-11"></a><span class="go">    &#39;server&#39;: &#39;nginx/0.7.65&#39;,</span>
<a name="l-12"></a><span class="go">    &#39;status&#39;: &#39;201&#39;}</span>
<a name="l-13"></a><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="s">&quot;response from creating named object:&quot;</span>
<a name="l-14"></a><span class="go">response from creating named object:</span>
<a name="l-15"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
<a name="l-16"></a><span class="go">{   &#39;URI&#39;: &#39;https://fluiddb.fluidinfo.com/objects/9f02db51-4300-4868-91f7-100f746de682&#39;,</span>
<a name="l-17"></a><span class="go">    &#39;id&#39;: &#39;9f02db51-4300-4868-91f7-100f746de682&#39;}</span>
<a name="l-18"></a><span class="gp">&gt;&gt;&gt; </span>
</pre></div></p>
<p>Here is an anonymous object:
<div class="highlight"><pre><a name="l-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">headers</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="n">fluidinfo</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s">&#39;POST&#39;</span><span class="p">,</span> <span class="s">&#39;/objects/&#39;</span><span class="p">)</span>
<a name="l-2"></a><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="s">&quot;headers from creating anonymous object:&quot;</span>
<a name="l-3"></a><span class="go">headers from creating anonymous object:</span>
<a name="l-4"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">headers</span><span class="p">)</span>
<a name="l-5"></a><span class="go">{   &#39;cache-control&#39;: &#39;no-cache&#39;,</span>
<a name="l-6"></a><span class="go">    &#39;connection&#39;: &#39;keep-alive&#39;,</span>
<a name="l-7"></a><span class="go">    &#39;content-length&#39;: &#39;131&#39;,</span>
<a name="l-8"></a><span class="go">    &#39;content-type&#39;: &#39;application/json&#39;,</span>
<a name="l-9"></a><span class="go">    &#39;date&#39;: &#39;Wed, 11 May 2011 13:05:47 GMT&#39;,</span>
<a name="l-10"></a><span class="go">    &#39;location&#39;: &#39;https://fluiddb.fluidinfo.com/objects/d0e53f85-dca4-4416-abe1-d28177562f83&#39;,</span>
<a name="l-11"></a><span class="go">    &#39;server&#39;: &#39;nginx/0.7.65&#39;,</span>
<a name="l-12"></a><span class="go">    &#39;status&#39;: &#39;201&#39;}</span>
<a name="l-13"></a><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="s">&quot;response from creating anonymous object:&quot;</span>
<a name="l-14"></a><span class="go">response from creating anonymous object:</span>
<a name="l-15"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
<a name="l-16"></a><span class="go">{   &#39;URI&#39;: &#39;https://fluiddb.fluidinfo.com/objects/d0e53f85-dca4-4416-abe1-d28177562f83&#39;,</span>
<a name="l-17"></a><span class="go">    &#39;id&#39;: &#39;d0e53f85-dca4-4416-abe1-d28177562f83&#39;}</span>
<a name="l-18"></a><span class="gp">&gt;&gt;&gt; </span>
<a name="l-19"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">obj_id</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s">&#39;id&#39;</span><span class="p">]</span>
<a name="l-20"></a><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">obj_id</span>
<a name="l-21"></a><span class="go">d0e53f85-dca4-4416-abe1-d28177562f83</span>
<a name="l-22"></a><span class="gp">&gt;&gt;&gt; </span>
</pre></div></p>
<p>However, for the goals of this project, the anonymous object makes more sense. While it is tempting to use DOIs as a name, this is problematic as you may not know a DOI when you are creating an object, and some formats of DOI are not suitable as fluidinfo names (even with url escaping). So it is more appropriate to use anonymous objects and set the DOI (if we have one) as a tag.</p>
<h2>BIAR Namespace</h2>
<p>All objects which are part of this project need to be tagged with the 'element' tag in the 'biar' namespace. </p>
<div class="highlight"><pre><a name="l-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">parent_namespace</span> <span class="o">=</span> <span class="s">&#39;/namespaces/biar&#39;</span>
<a name="l-2"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">headers</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="n">fluidinfo</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s">&#39;GET&#39;</span><span class="p">,</span> <span class="n">parent_namespace</span><span class="p">)</span>
<a name="l-3"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">headers</span><span class="p">)</span>
<a name="l-4"></a><span class="go">{   &#39;cache-control&#39;: &#39;no-cache&#39;,</span>
<a name="l-5"></a><span class="go">    &#39;connection&#39;: &#39;keep-alive&#39;,</span>
<a name="l-6"></a><span class="go">    &#39;content-length&#39;: &#39;46&#39;,</span>
<a name="l-7"></a><span class="go">    &#39;content-location&#39;: &#39;https://fluiddb.fluidinfo.com/namespaces/biar&#39;,</span>
<a name="l-8"></a><span class="go">    &#39;content-type&#39;: &#39;application/json&#39;,</span>
<a name="l-9"></a><span class="go">    &#39;date&#39;: &#39;Wed, 11 May 2011 13:05:50 GMT&#39;,</span>
<a name="l-10"></a><span class="go">    &#39;server&#39;: &#39;nginx/0.7.65&#39;,</span>
<a name="l-11"></a><span class="go">    &#39;status&#39;: &#39;200&#39;}</span>
<a name="l-12"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
<a name="l-13"></a><span class="go">{   &#39;id&#39;: &#39;ec2c89a7-6da1-4cb1-b90b-dd05e0146e7c&#39;}</span>
<a name="l-14"></a><span class="gp">&gt;&gt;&gt; </span>
</pre></div>

<div class="highlight"><pre><a name="l-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">headers</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="n">fluidinfo</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s">&#39;GET&#39;</span><span class="p">,</span> <span class="s">&#39;/tags/biar/element&#39;</span><span class="p">)</span>
<a name="l-2"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">headers</span><span class="p">)</span>
<a name="l-3"></a><span class="go">{   &#39;cache-control&#39;: &#39;no-cache&#39;,</span>
<a name="l-4"></a><span class="go">    &#39;connection&#39;: &#39;keep-alive&#39;,</span>
<a name="l-5"></a><span class="go">    &#39;content-length&#39;: &#39;64&#39;,</span>
<a name="l-6"></a><span class="go">    &#39;content-location&#39;: &#39;https://fluiddb.fluidinfo.com/tags/biar/element&#39;,</span>
<a name="l-7"></a><span class="go">    &#39;content-type&#39;: &#39;application/json&#39;,</span>
<a name="l-8"></a><span class="go">    &#39;date&#39;: &#39;Wed, 11 May 2011 13:05:53 GMT&#39;,</span>
<a name="l-9"></a><span class="go">    &#39;server&#39;: &#39;nginx/0.7.65&#39;,</span>
<a name="l-10"></a><span class="go">    &#39;status&#39;: &#39;200&#39;}</span>
<a name="l-11"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
<a name="l-12"></a><span class="go">{   &#39;id&#39;: &#39;46ca0f26-4702-46cc-80ef-6c2fbb086217&#39;, &#39;indexed&#39;: False}</span>
<a name="l-13"></a><span class="gp">&gt;&gt;&gt; </span>
</pre></div>

<p>In this way we can search for all possible elements.</p>
<div class="highlight"><pre><a name="l-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">headers</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="n">fluidinfo</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s">&#39;GET&#39;</span><span class="p">,</span> <span class="s">&#39;/objects&#39;</span><span class="p">,</span> <span class="n">query</span><span class="o">=</span><span class="s">&#39;has biar/elemen t&#39;</span><span class="p">)</span>
<a name="l-2"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">headers</span><span class="p">)</span>
<a name="l-3"></a><span class="go">{   &#39;cache-control&#39;: &#39;no-cache&#39;,</span>
<a name="l-4"></a><span class="go">    &#39;connection&#39;: &#39;keep-alive&#39;,</span>
<a name="l-5"></a><span class="go">    &#39;content-length&#39;: &#39;369&#39;,</span>
<a name="l-6"></a><span class="go">    &#39;content-location&#39;: &#39;https://fluiddb.fluidinfo.com/objects?query=has+biar%2Felement&#39;,</span>
<a name="l-7"></a><span class="go">    &#39;content-type&#39;: &#39;application/json&#39;,</span>
<a name="l-8"></a><span class="go">    &#39;date&#39;: &#39;Wed, 11 May 2011 13:05:54 GMT&#39;,</span>
<a name="l-9"></a><span class="go">    &#39;server&#39;: &#39;nginx/0.7.65&#39;,</span>
<a name="l-10"></a><span class="go">    &#39;status&#39;: &#39;200&#39;}</span>
<a name="l-11"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
<a name="l-12"></a><span class="go">{   &#39;ids&#39;: [   &#39;5922a640-25ec-4ac6-bbb9-35c164dd1e81&#39;,</span>
<a name="l-13"></a><span class="go">               &#39;90400d9d-4029-4e92-b250-f3a43bbf5223&#39;,</span>
<a name="l-14"></a><span class="go">               &#39;cf247aea-0f3a-4a15-bdc1-5b0ca3151b47&#39;,</span>
<a name="l-15"></a><span class="go">               &#39;91459cc8-a803-4e1b-8a87-7712f99742c4&#39;,</span>
<a name="l-16"></a><span class="go">               &#39;afd3a7b1-8c62-446c-9b74-b5602c8f76aa&#39;,</span>
<a name="l-17"></a><span class="go">               &#39;99f95877-83e9-4401-b38b-bd997dcb2f52&#39;,</span>
<a name="l-18"></a><span class="go">               &#39;90f26e32-b638-49ae-84cf-c6d38962d295&#39;,</span>
<a name="l-19"></a><span class="go">               &#39;c79babbb-cc29-4109-9f21-e240a4f0923a&#39;,</span>
<a name="l-20"></a><span class="go">               &#39;99946123-e20f-4911-8c12-f5c7a3e10820&#39;]}</span>
<a name="l-21"></a><span class="gp">&gt;&gt;&gt; </span>
</pre></div>

<h2>Collection Namespace</h2>
<p>Now we wish to create a collection to hold several objects.
<div class="highlight"><pre><a name="l-1"></a><span class="n">list_parent_namespace</span> <span class="o">=</span> <span class="s">&#39;/namespaces/ananelson/biar/collections&#39;</span>
<a name="l-2"></a><span class="n">namespace_info</span> <span class="o">=</span> <span class="p">{</span>
<a name="l-3"></a>    <span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="s">&#39;myfirstlist&#39;</span><span class="p">,</span>
<a name="l-4"></a>    <span class="s">&#39;description&#39;</span><span class="p">:</span> <span class="s">&#39;my phd reading list&#39;</span>
<a name="l-5"></a><span class="p">}</span>
<a name="l-6"></a><span class="n">headers</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="n">fluidinfo</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s">&#39;POST&#39;</span><span class="p">,</span> <span class="n">list_parent_namespace</span><span class="p">,</span> <span class="n">namespace_info</span><span class="p">)</span>
<a name="l-7"></a><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">headers</span><span class="p">)</span>
<a name="l-8"></a><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
<a name="l-9"></a>
<a name="l-10"></a><span class="n">list_parent_namespace</span> <span class="o">=</span> <span class="s">&#39;/namespaces/ananelson/biar/collections&#39;</span>
<a name="l-11"></a><span class="n">namespace_info</span> <span class="o">=</span> <span class="p">{</span>
<a name="l-12"></a>    <span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="s">&#39;mysecondlist&#39;</span><span class="p">,</span>
<a name="l-13"></a>    <span class="s">&#39;description&#39;</span><span class="p">:</span> <span class="s">&#39;bedtime reading list&#39;</span>
<a name="l-14"></a><span class="p">}</span>
<a name="l-15"></a><span class="n">headers</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="n">fluidinfo</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s">&#39;POST&#39;</span><span class="p">,</span> <span class="n">list_parent_namespace</span><span class="p">,</span> <span class="n">namespace_info</span><span class="p">)</span>
<a name="l-16"></a><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">headers</span><span class="p">)</span>
<a name="l-17"></a><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</pre></div></p>
<p>Note that the parent namespaces need to be created first.
<div class="highlight"><pre><a name="l-1"></a><span class="n">list_parent_namespace</span> <span class="o">=</span> <span class="s">&#39;/namespaces&#39;</span>
<a name="l-2"></a><span class="n">namespace_info</span> <span class="o">=</span> <span class="p">{</span>
<a name="l-3"></a>    <span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="s">&#39;ananelson&#39;</span><span class="p">,</span>
<a name="l-4"></a>    <span class="s">&#39;description&#39;</span><span class="p">:</span> <span class="s">&#39;personal namespace&#39;</span>
<a name="l-5"></a><span class="p">}</span>
<a name="l-6"></a><span class="n">headers</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="n">fluidinfo</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s">&#39;POST&#39;</span><span class="p">,</span> <span class="n">list_parent_namespace</span><span class="p">,</span> <span class="n">namespace_info</span><span class="p">)</span>
<a name="l-7"></a>
<a name="l-8"></a><span class="n">list_parent_namespace</span> <span class="o">=</span> <span class="s">&#39;/namespaces/ananelson&#39;</span>
<a name="l-9"></a><span class="n">namespace_info</span> <span class="o">=</span> <span class="p">{</span>
<a name="l-10"></a>    <span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="s">&#39;biar&#39;</span><span class="p">,</span>
<a name="l-11"></a>    <span class="s">&#39;description&#39;</span><span class="p">:</span> <span class="s">&#39;place to put biar stuff&#39;</span>
<a name="l-12"></a><span class="p">}</span>
<a name="l-13"></a><span class="n">headers</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="n">fluidinfo</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s">&#39;POST&#39;</span><span class="p">,</span> <span class="n">list_parent_namespace</span><span class="p">,</span> <span class="n">namespace_info</span><span class="p">)</span>
<a name="l-14"></a>
<a name="l-15"></a><span class="n">list_parent_namespace</span> <span class="o">=</span> <span class="s">&#39;/namespaces/ananelson/biar&#39;</span>
<a name="l-16"></a><span class="n">namespace_info</span> <span class="o">=</span> <span class="p">{</span>
<a name="l-17"></a>    <span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="s">&#39;collections&#39;</span><span class="p">,</span>
<a name="l-18"></a>    <span class="s">&#39;description&#39;</span><span class="p">:</span> <span class="s">&#39;biar collections&#39;</span>
<a name="l-19"></a><span class="p">}</span>
<a name="l-20"></a><span class="n">headers</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="n">fluidinfo</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s">&#39;POST&#39;</span><span class="p">,</span> <span class="n">list_parent_namespace</span><span class="p">,</span> <span class="n">namespace_info</span><span class="p">)</span>
</pre></div></p>
<p>We will use the 'element' tag to indicate that an object is a member of a collection. We need to define this tag in each namespace, which means we need to define this tag for every collection.
<div class="highlight"><pre><a name="l-1"></a><span class="n">tag_info</span> <span class="o">=</span> <span class="p">{</span>
<a name="l-2"></a>    <span class="s">&#39;name&#39;</span> <span class="p">:</span> <span class="s">&#39;element&#39;</span><span class="p">,</span>
<a name="l-3"></a>    <span class="s">&#39;description&#39;</span> <span class="p">:</span> <span class="s">&#39;Tag indicating that object is part of a list&#39;</span><span class="p">,</span>
<a name="l-4"></a>    <span class="s">&#39;indexed&#39;</span> <span class="p">:</span> <span class="bp">False</span>
<a name="l-5"></a><span class="p">}</span>
<a name="l-6"></a><span class="n">user_biar_namespace</span> <span class="o">=</span> <span class="s">&#39;/tags/ananelson/biar/collections/myfirstlist&#39;</span>
<a name="l-7"></a><span class="n">headers</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="n">fluidinfo</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s">&#39;POST&#39;</span><span class="p">,</span> <span class="n">user_biar_namespace</span><span class="p">,</span> <span class="n">tag_info</span><span class="p">)</span>
<a name="l-8"></a><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">headers</span><span class="p">)</span>
<a name="l-9"></a><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
<a name="l-10"></a>
<a name="l-11"></a><span class="n">user_biar_namespace</span> <span class="o">=</span> <span class="s">&#39;/tags/ananelson/biar/collections/mysecondlist&#39;</span>
<a name="l-12"></a><span class="n">headers</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="n">fluidinfo</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s">&#39;POST&#39;</span><span class="p">,</span> <span class="n">user_biar_namespace</span><span class="p">,</span> <span class="n">tag_info</span><span class="p">)</span>
<a name="l-13"></a><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">headers</span><span class="p">)</span>
<a name="l-14"></a><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</pre></div></p>
<p>Now we can assign objects to lists by setting the element tag:
<div class="highlight"><pre><a name="l-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">object_tag_path</span> <span class="o">=</span> <span class="s">&quot;/objects/</span><span class="si">%s</span><span class="s">/</span><span class="si">%s</span><span class="s">/</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">obj_id</span><span class="p">,</span> <span class="s">&#39;ananelson/biar/collections /myfirstlist&#39;</span><span class="p">,</span> <span class="s">&#39;element&#39;</span><span class="p">)</span>
<a name="l-2"></a><span class="gp">&gt;&gt;&gt; </span>
<a name="l-3"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">headers</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="n">fluidinfo</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s">&#39;PUT&#39;</span><span class="p">,</span> <span class="n">object_tag_path</span><span class="p">)</span>
<a name="l-4"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">headers</span><span class="p">)</span>
<a name="l-5"></a><span class="go">{   &#39;cache-control&#39;: &#39;no-cache&#39;,</span>
<a name="l-6"></a><span class="go">    &#39;connection&#39;: &#39;keep-alive&#39;,</span>
<a name="l-7"></a><span class="go">    &#39;content-type&#39;: &#39;text/html&#39;,</span>
<a name="l-8"></a><span class="go">    &#39;date&#39;: &#39;Wed, 11 May 2011 13:06:10 GMT&#39;,</span>
<a name="l-9"></a><span class="go">    &#39;server&#39;: &#39;nginx/0.7.65&#39;,</span>
<a name="l-10"></a><span class="go">    &#39;status&#39;: &#39;204&#39;}</span>
<a name="l-11"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
<a name="l-12"></a><span class="go">&#39;&#39;</span>
<a name="l-13"></a><span class="gp">&gt;&gt;&gt; </span>
</pre></div></p>
<p>And we can query membership in a list:
<div class="highlight"><pre><a name="l-1"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">headers</span><span class="p">,</span> <span class="n">response</span> <span class="o">=</span> <span class="n">fluidinfo</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s">&#39;GET&#39;</span><span class="p">,</span> <span class="s">&#39;/objects&#39;</span><span class="p">,</span> <span class="n">query</span><span class="o">=</span><span class="s">&#39;has ananelson/b iar/collections/myfirstlist/element&#39;</span><span class="p">)</span>
<a name="l-2"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">headers</span><span class="p">)</span>
<a name="l-3"></a><span class="go">{   &#39;cache-control&#39;: &#39;no-cache&#39;,</span>
<a name="l-4"></a><span class="go">    &#39;connection&#39;: &#39;keep-alive&#39;,</span>
<a name="l-5"></a><span class="go">    &#39;content-length&#39;: &#39;289&#39;,</span>
<a name="l-6"></a><span class="go">    &#39;content-location&#39;: &#39;https://fluiddb.fluidinfo.com/objects?query=has+ananelson%2Fbiar%2Fcollections%2Fmyfirstlist%2Felement&#39;,</span>
<a name="l-7"></a><span class="go">    &#39;content-type&#39;: &#39;application/json&#39;,</span>
<a name="l-8"></a><span class="go">    &#39;date&#39;: &#39;Wed, 11 May 2011 13:06:11 GMT&#39;,</span>
<a name="l-9"></a><span class="go">    &#39;server&#39;: &#39;nginx/0.7.65&#39;,</span>
<a name="l-10"></a><span class="go">    &#39;status&#39;: &#39;200&#39;}</span>
<a name="l-11"></a><span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
<a name="l-12"></a><span class="go">{   &#39;ids&#39;: [   &#39;8876ede8-c7c7-4c4a-9285-257b1f911298&#39;,</span>
<a name="l-13"></a><span class="go">               &#39;c6177e88-df54-4505-9e20-d4fd6ca12588&#39;,</span>
<a name="l-14"></a><span class="go">               &#39;e2036dd7-444f-42a4-9b66-ec5583c40fed&#39;,</span>
<a name="l-15"></a><span class="go">               &#39;cf247aea-0f3a-4a15-bdc1-5b0ca3151b47&#39;,</span>
<a name="l-16"></a><span class="go">               &#39;c37917bb-0509-49f7-acc2-e5bbdd4c6544&#39;,</span>
<a name="l-17"></a><span class="go">               &#39;1a18a0ce-3224-4706-9c9a-0df614ff338e&#39;,</span>
<a name="l-18"></a><span class="go">               &#39;d0e53f85-dca4-4416-abe1-d28177562f83&#39;]}</span>
<a name="l-19"></a><span class="gp">&gt;&gt;&gt; </span>
</pre></div></p>
  </body>
</html>

